<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>tensorflow.js部署到web 笔记 | Jlex の Blog</title><meta name="keywords" content="深度学习,tensorflow,tensorflow.js"><meta name="author" content="钟军"><meta name="copyright" content="钟军"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="tensorflow.js部署到web,部署到生产环境中，我将python训练的模型进行转换，部署到博客的网页中">
<meta property="og:type" content="article">
<meta property="og:title" content="tensorflow.js部署到web 笔记">
<meta property="og:url" content="https://jlexzhong.github.io/blog/2021/09/02/tensorflow.js-deploy-web/index.html">
<meta property="og:site_name" content="Jlex の Blog">
<meta property="og:description" content="tensorflow.js部署到web,部署到生产环境中，我将python训练的模型进行转换，部署到博客的网页中">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg">
<meta property="article:published_time" content="2021-09-02T04:00:09.000Z">
<meta property="article:modified_time" content="2021-09-14T02:22:09.708Z">
<meta property="article:author" content="钟军">
<meta property="article:tag" content="深度学习">
<meta property="article:tag" content="tensorflow">
<meta property="article:tag" content="tensorflow.js">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg"><link rel="shortcut icon" href="/blog/img/favicon.png"><link rel="canonical" href="https://jlexzhong.github.io/blog/2021/09/02/tensorflow.js-deploy-web/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'tensorflow.js部署到web 笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-14 10:22:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/static-butterfly/dist/css/index.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2776951_mnudrbb23bf.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/blog/atom.xml" title="Jlex の Blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/blog/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/../index.html"><i class="fa-fw iconfont icon-lubiao"></i><span> 回到导航</span></a></div><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 博客主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/blog/">Jlex の Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/../index.html"><i class="fa-fw iconfont icon-lubiao"></i><span> 回到导航</span></a></div><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 博客主页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/blog/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">tensorflow.js部署到web 笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-02T04:00:09.000Z" title="发表于 2021-09-02 12:00:09">2021-09-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-14T02:22:09.708Z" title="更新于 2021-09-14 10:22:09">2021-09-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/blog/categories/tensorflow/">tensorflow</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">549</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>3分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="tensorflow.js部署到web 笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="tensorflow-js部署到web-笔记"><a href="#tensorflow-js部署到web-笔记" class="headerlink" title="tensorflow.js部署到web 笔记"></a>tensorflow.js部署到web 笔记</h1><h2 id="BUG："><a href="#BUG：" class="headerlink" title="BUG："></a>BUG：</h2><ol>
<li><p>无法加载源映射</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Could not <span class="token builtin class-name">read</span> <span class="token builtin class-name">source</span> map <span class="token keyword">for</span> https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest: Unexpected <span class="token number">404</span> response from https://cdn.jsdelivr.net/npm/@tensorflow/tf.min.js.map: Failed to resolve the requested file.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>解决：（<a target="_blank" rel="noopener" href="https://www.nuomiphp.com/eplan/188052.html%EF%BC%89">https://www.nuomiphp.com/eplan/188052.html）</a></p>
<pre class="line-numbers language-none"><code class="language-none">换成"&lt;script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"&gt; &lt;/script&gt;"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>加载模型报错 lambda，<strong>inception_resnet_v2报错</strong>，<strong>inceptionV3</strong>并不报错</p>
<pre class="line-numbers language-none"><code class="language-none">Uncaught (in promise) Error: Unknown layer: Lambda. This may be due to one of the following reasons:

The layer is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
The custom layer is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().
at new t (errors.ts:48)
at deserializeKerasObject (generic_utils.ts:202)
at deserialize (serialization.ts:27)
at i (container.ts:1329)
at t.fromConfig (container.ts:1355)
at deserializeKerasObject (generic_utils.ts:235)
at deserialize (serialization.ts:27)
at models.ts:270
at index.ts:79
at Object.next (index.ts:79)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/tensorspace-team/tensorspace/issues/121">https://github.com/tensorspace-team/tensorspace/issues/121</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/66616597/tensorflow-js-error-in-loading-augmentation-layers-operation">https://stackoverflow.com/questions/66616597/tensorflow-js-error-in-loading-augmentation-layers-operation</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/dd2bebfa867d">https://www.jianshu.com/p/dd2bebfa867d</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/86355195">https://zhuanlan.zhihu.com/p/86355195</a></p>
</li>
<li><p>bug2在替换掉lambda后出现，基础库</p>
<pre class="line-numbers language-none"><code class="language-none">Uncaught (in promise) TypeError: undefined is not iterable (cannot read property Symbol(Symbol.iterator))
    at Fv (runtime.js:747)
    at t.fromConfig (container.js:1232)
    at eO (generic_utils.js:278)
    at aM (serialization.js:31)
    at u (container.js:1206)
    at t.fromConfig (container.js:1234)
    at eO (generic_utils.js:278)
    at aM (serialization.js:31)
    at models.js:295
    at c (runtime.js:63)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>tf.fromPixels</p>
<pre class="line-numbers language-none"><code class="language-none">Uncaught (in promise) TypeError: tf.fromPixels is not a function<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>已解决：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/55402551/why-am-i-getting-the-error-tf-frompixels-is-not-a-function">https://stackoverflow.com/questions/55402551/why-am-i-getting-the-error-tf-frompixels-is-not-a-function</a></p>
<p>tf.fromPixels was deprecated in version 1.0.0, use: <code>tf.browser.fromPixels()</code></p>
</li>
<li><p>getImageData</p>
<pre class="line-numbers language-none"><code class="language-none">'getImageData' on 'CanvasRenderingContext2D': Value is not of type 'long'.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>我是这么写的：</p>
<pre class="line-numbers language-none"><code class="language-none">const imgData = context.getImageData(0,0,canvas.width,canvas.height);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>已解决：换成<code>const imgData = context.getImageData(0,0,299,299);</code></p>
</li>
<li><p>tensorflow.js没有tf.argmax，变成了<strong>tf.argMax</strong></p>
</li>
</ol>
<h2 id="加载模型时路径的写法"><a href="#加载模型时路径的写法" class="headerlink" title="加载模型时路径的写法"></a>加载模型时路径的写法</h2><pre class="line-numbers language-none"><code class="language-none">const my_model = await tf.loadLayersModel("model_js/model.json")
//正确<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-none"><code class="language-none">  const my_model = await tf.loadLayersModel("http://127.0.0.1:5502/TensorFlow%20Deployment/Course%201%20-%20TensorFlow-JS/Week%204/Examples/model_js/model.json")
//正确,前面一大串是工作区文件夹名称<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h2 id="tensorflow-js的预测结果与tensorflow大相径庭"><a href="#tensorflow-js的预测结果与tensorflow大相径庭" class="headerlink" title="tensorflow.js的预测结果与tensorflow大相径庭"></a>tensorflow.js的预测结果与tensorflow大相径庭</h2><p>图片：hym_003(-)_180.jpg</p>
<h3 id="tensorflow-js"><a href="#tensorflow-js" class="headerlink" title="tensorflow.js"></a>tensorflow.js</h3><pre class="line-numbers language-none"><code class="language-none">[[0.0038602, 0.0000056, 0.136271, 0.0231699, 4e-7, 5e-7, 1e-7, 0.0000079, 4e-7, 0.836684],]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="tensorflow-python"><a href="#tensorflow-python" class="headerlink" title="tensorflow-python"></a>tensorflow-python</h3><pre class="line-numbers language-none"><code class="language-none">array([[6.1449555e-08, 7.2196451e-07, 9.9997318e-01, 2.7251541e-08,
        4.4864832e-09, 2.8673458e-07, 1.8537765e-05, 2.0686712e-06,
        9.0471025e-10, 5.0913218e-06]], dtype=float32)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://github.com/tensorflow/tfjs/issues/776">https://github.com/tensorflow/tfjs/issues/776</a></p>
<p>后续更新部署。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">钟军</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://jlexzhong.github.io/blog/2021/09/02/tensorflow.js-deploy-web/">https://jlexzhong.github.io/blog/2021/09/02/tensorflow.js-deploy-web/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jlexzhong.github.io/blog" target="_blank">Jlex の Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a><a class="post-meta__tags" href="/blog/tags/tensorflow/">tensorflow</a><a class="post-meta__tags" href="/blog/tags/tensorflow-js/">tensorflow.js</a></div><div class="post_share"><div class="social-share" data-image="https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/blog/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/blog/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/blog/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/blog/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/2021/09/09/use-Mask-R-CNN-train-dataset-myself/"><img class="prev-cover" src="https://up.enterdesk.com/edpic_source/d0/5a/0f/d05a0fd216fbf0de1c081841b8875f46.jpg" onerror="onerror=null;src='/blog/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">使用Mask-R-CNN训练自己的数据集</div></div></a></div><div class="next-post pull-right"><a href="/blog/2021/09/01/by-InceptionV3-transfer-learning/"><img class="next-cover" src="https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg" onerror="onerror=null;src='/blog/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">基于InceptionV3深度学习实现岩石图像智能识别与分类</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/blog/2021/08/19/inception-resnet-v2-Parameter-optimization-note/" title="inception-resnet-v2超参数优化笔记"><img class="cover" src="https://up.enterdesk.com/edpic_source/d0/5a/0f/d05a0fd216fbf0de1c081841b8875f46.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-19</div><div class="title">inception-resnet-v2超参数优化笔记</div></div></a></div><div><a href="/blog/2021/09/09/mask_rcnn-bug-note/" title="mask r-cnn 遇到的坑"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-09</div><div class="title">mask r-cnn 遇到的坑</div></div></a></div><div><a href="/blog/2021/09/11/solve-tensorboard-1.13.1-cannot-open-url/" title="解决tensorboard 1.13.1 无法打开生成的网址"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-11</div><div class="title">解决tensorboard 1.13.1 无法打开生成的网址</div></div></a></div><div><a href="/blog/2021/08/15/tensorflow2-load-save/" title="tensorflow2 模型的保存和载入 h5和ckpt的用法 断点续训"><img class="cover" src="https://up.enterdesk.com/edpic_source/d0/5a/0f/d05a0fd216fbf0de1c081841b8875f46.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-15</div><div class="title">tensorflow2 模型的保存和载入 h5和ckpt的用法 断点续训</div></div></a></div><div><a href="/blog/2021/09/09/use-Mask-R-CNN-train-dataset-myself/" title="使用Mask-R-CNN训练自己的数据集"><img class="cover" src="https://up.enterdesk.com/edpic_source/d0/5a/0f/d05a0fd216fbf0de1c081841b8875f46.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-09</div><div class="title">使用Mask-R-CNN训练自己的数据集</div></div></a></div><div><a href="/blog/2021/09/01/by-InceptionV3-transfer-learning/" title="基于InceptionV3深度学习实现岩石图像智能识别与分类"><img class="cover" src="https://up.enterdesk.com/edpic_source/b5/11/20/b511208bdc860c02baf3f1fcf4c5c6c0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-01</div><div class="title">基于InceptionV3深度学习实现岩石图像智能识别与分类</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/blog/img/avatar.png" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">钟军</div><div class="author-info__description">一位不专心搞地质的CS Learner</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">21</div></a></div><div class="card-info-data-item is-center"><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">21</div></a></div><div class="card-info-data-item is-center"><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JlexZhong" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:junzhong0917@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2678091501&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="iconfont icon-QQ"></i></a><a class="social-icon" href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=Mzg4MzY0ODExMw==&amp;scene=124&amp;uin=&amp;key=&amp;devicetype=Windows+10+x64&amp;version=63030522&amp;lang=zh_CN&amp;a8scene=7&amp;fontgear=2" target="_blank" title="微信"><i class="iconfont icon-weixin"></i></a><a class="social-icon" href="https://www.zhihu.com/people/jiang-lang-cai-jin-de-jiang-jin" target="_blank" title="知乎"><i class="iconfont icon-shejiaotubiao-46"></i></a><a class="social-icon" href="https://space.bilibili.com/545306558" target="_blank" title="哔哩哔哩"><i class="iconfont icon-icon_bilibili-circle"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">个人介绍：在校大三学生，一位不专心搞地质的CS learner。正在努力学习计算机视觉与深度学习开发，掌握图像分类、分割与目标检测，熟悉掌握TensorFlow框架，熟练掌握PyQt、Tkinter等GUI桌面程序界面开发，熟练掌握Python和Qt多线程开发，熟悉Python数据可视化，精通matplotlib、pyqtgraph等绘图库，熟悉Git版本管理。书山有路勤为径，学海无涯苦作舟。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#tensorflow-js%E9%83%A8%E7%BD%B2%E5%88%B0web-%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">tensorflow.js部署到web 笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#BUG%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">BUG：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9E%8B%E6%97%B6%E8%B7%AF%E5%BE%84%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">加载模型时路径的写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tensorflow-js%E7%9A%84%E9%A2%84%E6%B5%8B%E7%BB%93%E6%9E%9C%E4%B8%8Etensorflow%E5%A4%A7%E7%9B%B8%E5%BE%84%E5%BA%AD"><span class="toc-number">1.3.</span> <span class="toc-text">tensorflow.js的预测结果与tensorflow大相径庭</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tensorflow-js"><span class="toc-number">1.3.1.</span> <span class="toc-text">tensorflow.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tensorflow-python"><span class="toc-number">1.3.2.</span> <span class="toc-text">tensorflow-python</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2021/09/11/solve-tensorboard-1.13.1-cannot-open-url/" title="解决tensorboard 1.13.1 无法打开生成的网址">解决tensorboard 1.13.1 无法打开生成的网址</a><time datetime="2021-09-11T14:00:09.000Z" title="发表于 2021-09-11 22:00:09">2021-09-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2021/09/11/python_BUG/" title="python开发中遇到的原生问题">python开发中遇到的原生问题</a><time datetime="2021-09-11T04:00:09.000Z" title="发表于 2021-09-11 12:00:09">2021-09-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2021/09/09/mask_rcnn-bug-note/" title="mask r-cnn 遇到的坑">mask r-cnn 遇到的坑</a><time datetime="2021-09-09T04:00:09.000Z" title="发表于 2021-09-09 12:00:09">2021-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2021/09/09/use-Mask-R-CNN-train-dataset-myself/" title="使用Mask-R-CNN训练自己的数据集">使用Mask-R-CNN训练自己的数据集</a><time datetime="2021-09-09T04:00:09.000Z" title="发表于 2021-09-09 12:00:09">2021-09-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/blog/2021/09/02/tensorflow.js-deploy-web/" title="tensorflow.js部署到web 笔记">tensorflow.js部署到web 笔记</a><time datetime="2021-09-02T04:00:09.000Z" title="发表于 2021-09-02 12:00:09">2021-09-02</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By 钟军</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="/blog/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>